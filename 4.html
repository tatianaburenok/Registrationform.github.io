<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"> 
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Reem+Kufi:wght@400..700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    
    <title>Registration Form</title> 
</head> 
    
<body>
<div class="registration-form">
        <form id="registrationForm">
        <h2>Общие сведения</h2>
            <div class="form-group">
                <label for="comandName">Название команды</label>
                <input type="text" id="comandName" name="comandName" required>
                <div class="error-message" id="comandNameError"></div>
            </div>
            <div class="form-group">
                <label for="schoolName">Полное наименование учебного заведения</label>
                <input type="text" id="schoolName" name="schoolName" required>
                <div class="error-message" id="schoolNameError"></div>
            </div>
            <div class="form-group">
                <label for="cityName">Населенный пункт</label>
                <input type="text" id="cityName" name="cityName" required>
                <div class="error-message" id="cityNameError"></div>
            </div>
            <button type="submit">Далее</button>
        </form>
    </div>
    <script>
        document.getElementById('registrationForm').addEventListener('submit', function(event) {
    event.preventDefault();
            
    // Очистка предыдущих сообщений об ошибках
    const errorMessages = document.querySelectorAll('.error-message');
    errorMessages.forEach(error => error.textContent = '');

    let valid = true;

    // Универсальная функция валидации полей
    function validateField(id, errorId, validationFn) {
        const value = document.getElementById(id).value.trim();
        const errorMessage = validationFn(value);
        if (errorMessage) {
            document.getElementById(errorId).textContent = errorMessage;
            valid = false;
        }
    }

    // Функции валидации
    const isNotEmpty = value => {
        if (value.length < 2) {
            return 'Поле должно содержать минимум 2 символа.';
        }
        if (!/\w+\s+\w+/.test(value)) {
            return 'Поле должно содержать минимум два слова.';
        }
        return '';
    };

    // Проверка значений полей
    validateField('mName', 'mNameError', isNotEmpty);
    validateField('mpName', 'mpNameError', isNotEmpty);
    validateField('mphoneNumber', 'mphoneNumberError', isPhoneValid);
    validateField('memail', 'memailError', isEmailValid);
    validateField('captainName', 'captainNameError', isNotEmpty);
    validateField('captainClass', 'captainClassError', isClassValid); // Проверка класса капитана
    validateField('cphoneNumber', 'cphoneNumberError', isPhoneValid);
    validateField('cemail', 'cemailError', isEmailValid);
    validateField('uchName1', 'uchName1Error', isNotEmpty);
    validateField('uch1Class', 'uch1ClassError', isClassValid); // Проверка класса участника 1
    validateField('uch1phoneNumber', 'uch1phoneNumberError', isPhoneValid);
    validateField('uch1email', 'uch1emailError', isEmailValid);
    validateField('uchName2', 'uchName2Error', isNotEmpty);
    validateField('uch2Class', 'uch2ClassError', isClassValid); // Проверка класса участника 2
    validateField('uch2phoneNumber', 'uch2phoneNumberError', isPhoneValid);
    validateField('uch2email', 'uch2emailError', isEmailValid);

});

    </script> 
</body> 
</html>